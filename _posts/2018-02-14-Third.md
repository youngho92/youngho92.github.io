---
layout: post
title: Mcnulty project

---

### 0. Alcohol Consumpion by Country

<img src="/images/NFL/alcohol_consumption.png" width="700">
<br>


### 1. Project Assumptions


<b>1-0. Part I</b><br>
The first objective is to classify alcohol consumption into three categories
<ol>
  <li> Heavy drinking countries: > 11 liters per year</li>
  <li> Moderate drinking countries: 9 - 11 liters per year</li>
  <li> Light drinking countries: < 9 liters per year</li>
</ol>

<br>

<b>1-1. Part II</b><br>
The second objective is to classify change in alcohol consumption into three categories
<ol>
<li> <b>+</b>(positive): consumption in this year > consumption in the previous year   </li>
<li> <b>≈</b>(constant): consumption in this year ≈ consumption in the previous year   </li>
<li> <b>-</b>(negative): consumption in this year < consumption in the previous year   </li>
</ol>

<br>

### 2. Data Structure

<ul> 
<li> Data source: OECD (<a href="https://data.oecd.org/">OECD Data</a>)</li>
<li> 34 countries from 1990 to 2017</li>
<br>
<li> Part I</li>
Y (dependent variable): alcohol consumption
X (independent variables): 29 features (tax on goods, corporate tax, unemployment rate, average wage, ...)
<br>
<img src="/images/NFL/part1_data.png" width="700">

<li> Part II</li>
Y (dependent variable): change in alcohol consumption
X (independent variables): % change of 29 features (%chg tax on goods, %chg corporate tax, %chg unemployment rate, %chg average wage, ...)
<br>
<img src="/images/NFL/part2_data.png" width="700">
<br>

### 3. Analysis
<br>

<b>3-0. Part I</b><br>

<ul> Linear Regression on Alcohol Consumption</ul>
<img src="/images/NFL/part1_lr.png" width="700">

The above table represents all features that have significant statistical significance. Average wage, social spending, and adult education have positive correlation with alcohol consumption. This is becuase if the average worker earns more money, then they are more likely to afford alcohol during their spare time. On the contrary, life expectancy, unemployment rate, and hours worked are negatively correlated with alcohol consumption. It is hard to identify the causal relationship between life expectancy and alcohol consumption because people who consume more alcohol may have less life expectancy. In addition, countries with low unemployment rate and less hours have relatively higher alcohol consumption according to the result.
R-squared of the training set is 0.671 while the test set has 0.552 R-squared.

Then, in order to find the optimal model for classification, I conducted grid search on KNN, Logistic Regression, Support Vector Machine, and Random Forest as follow. The above table shows all parameters that I looked into and the below one shows the optimal parameter for each model.
<br>
<img src="/images/NFL/part1_grid.png" width="700">


Classification report for each model is as follow. Random Forest beat all the other models in most measures.
<img src="/images/NFL/part1_report.png" width="700">
<br>

<ul>Random Forest Classification Report</ul>
<img src="/images/NFL/part1_RF.png" width="700">

<br>
<ul>Linear Regression VS Random Forest in Feature Importance</ul>
<img src="/images/NFL/part1_feature.png" width="700">
<br>
There are differences between linear regression and random forest in terms of feature importance. The above table shows top 10 major features for each model, and it turned out that there are only two common features. In the Random Forest model, electricity generation is the most important feature while it is not significant in the linear regression model. 


